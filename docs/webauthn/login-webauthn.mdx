---
sidebar_position: 2
slug: /webauthn/login
id: webauthn-login
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import OTPBrowser from "./assets/otpbrowser.png";
import BrowserWindow from "@site/src/components/BrowserWindow";

# Login Using Registered Device

Registered WebAuthN devices can be used to authenticate a user's login requests


## **Authenticate with Registered Device**

You will need to provide some user information and device details when using WebAuthN to authenticate a login request.   


### Parameters

**tenant info:**
- `dns`: Your tenant domain 
- `displayName`: Username 
- `communityId`: Tenant community name
- `tenantId`: Tenant ID

**body:**
- `rawId`: Raw ID
- `authenticatorData`: Authenticator data
- `signature`: Device signature
- `userHandle`: Device user handle
- `id`: Device ID
- `type`: Public Key


### Authentication Request Format 


#### Authenticate with Registered Device

```jsx 
{
   "tenant info": {
	   "username": "<username>",
	   "displayName": "<display name>",
	   "dns": "<tenant domain>",
	   "communityId": "<tenant community>",
	   "tenantId": "<tenant tag>",
    },
   "body": {
      "rawId": "<raw ID>",
      "authenticatorData": "<device authenticator data>",
      "signature": "<device signature>",
      "userHandle": "<device user handle>",
      "clientDataJSON": "<client data JSON>",
      "getClientExtensionResults": {},
      "id": "<device id>",
      "type": "public-key"
      "keyType": "<key type>"
    }
} 
``` 

## **Example Authentication Using a Registered Device**

```jsx
{
   "tenant info": {
	   "username": "john.smith@company.com",
	   "displayName": "john.smith",
	   "dns": "blockid-trial.1kosmos.net",
	   "communityId": "devx",
	   "tenantId": "trial",
    },
   "body": {
       "username": "xxxxxx",
       "rawId": "xxxxxx",
       "authenticatorData": "xxxxxx",
       "signature": "xxxxxx",
       "userHandle": "xxxx",
       "clientDataJSON": "xxxxxx",
       "getClientExtensionResults": {},
       "id": "xxxx",
       "type": "public-key"
    }
}
```

## **Example Server Responses** 

<Tabs groupId="responses">
<TabItem value="200" Label="200 OK">

```jsx title="200 Success"
{
  "user": "object",
  "pon_data": "object",
  "permissions": [],
  "jwt_token": "string"
}
```
The authentication request was successful 

</TabItem>


<TabItem value="400" Label="400">

```jsx title="400 Validation Errors"
{
  "code": 400,
  "message": "Unexpected token c in JSON at position 0"
}
```
The verification request was unsuccessful due to validation errors


</TabItem>

<TabItem value="401" Label="401">

```jsx title="401 Unauthorized"
{
  "code": 401,
  "message": "Unauthorized"
}
```

The user is not authorized to make this request. Please contact your tenant community administrator

</TabItem>

<TabItem value="403" Label="403">

```jsx title="403 Forbidden"
{
  "code": 403,
  "message": "Forbidden"
}
```


The user does not have access permission to make this request. Please contact your tenant community administrator    

</TabItem>

<TabItem value="404" Label="404">

```jsx title="404" Label="404"
{
  "code": 404,
  "message": "Verification config not found."
}
```

The `dvcID` verification config identifier could not be found. Please check your request. 

</TabItem>

<TabItem value="500" Label="500">

```jsx title="Internal Server Error"
{
  "code": 500,
  "message": "Unexpected token x in JSON at position 0"
}
```

The application is not working as intended. Please contact your tenant community administrator    

</TabItem>


</Tabs>
